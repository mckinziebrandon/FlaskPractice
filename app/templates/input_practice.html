{% extends "base.html" %}
{% set active_page = "input_practice" %}
{% block content %}

  <div class="container">
  <div class="jumbotron">
    <h1>Input Practice</h1>
    <p>Interacting with the database and forms in general.</p>
  </div>

  <div class="row">


    <div class="col-sm-4">
      <h2>Ok, Basic HTML Plz</h2>
      <form action="/input_practice" method="POST">
        <div class="input-group">
          <input type="text"
                 placeholder="Hey idiot"
                 class="form-control"
                 name="{{ form.message.name }}">

          <div class="input-group-btn">
            <button type="submit" class="btn btn-primary">
              Submit
            </button>
          </div>
        </div>
      </form>
      <!-- IMPORTANT: name MUST be the same as form.message.name. -->
    </div>

    <div class="col-sm-6">
      {%  if form.message.data %}
        <div class="alert alert-success" role="alert">
          <strong>Message:</strong> {{ form.message.data }}
        </div>
      {% endif %}
    </div>
  </div>


  <hr>
  <div class="row">

    <div class="col-sm-10">
      <h2>Add to Database</h2>
      <form id="user-form" action="{{ url_for('add_user') }}"
            method="post" class="add-user">

        <!-- User Name -->
        <div class="formgroup">
          <label for="user-name">User Name:</label>
          <!-- In views.py, we access inputs via request.[name attr] -->
          <input name="nickname" id="user-name" type="text" class="form-control">
        </div>

        <!-- Blog Post -->
        <div class="form-group">
          <label for="post-body">Blog Post:</label>
          <textarea name="post-body" class="form-control"
                    id="post-body" rows="3">
      </textarea>
        </div>

        <button id="user-submit" type="submit" class="btn btn-primary">
          Submit
        </button>
      </form>
    </div>
  </div>  <!-- End: Add to Database (row) -->

  <hr>
  <div class="row">
    <div class="col-sm-8">

    <h2>Text Fields (Eloquent JS)</h2>
    <p>To insert "Brandon is amazing" anywhere in the text area, press F2.</p>
    <textarea id="amazing" class="form-control" rows="2"></textarea>
    <script>
      var F2 = 113;
      var textarea = $("#amazing").get(0);
      $(textarea).on("keydown", function(event) {
          if (event.keyCode == F2) {
              replaceSelection(textarea, "Brandon is amazing");
              event.preventDefault();
          }

      });

      function replaceSelection(field, word) {
          // Get start and end of the selection.
          var from = field.selectionStart;
          var to = field.selectionEnd;
          // Replace the currently selected part of text with word.
          field.value =
                  field.value.slice(0, from)
                  + word
                  + field.value.slice(to);
          // Put the cursor after the word.
          field.selectionStart = field.selectionEnd = from + word.length;
      }
    </script>
    </div>
  </div>

  <hr>
  <div class="row">
    <div class="col-sm-8">
      <h2>File Fields</h2>
      <p>How to work with file uploads.</p>
      <label class="btn btn-default btn-file">
        Browse <input id="file-input" type="file" style="display: none;">
      </label>
      <script>
        var input = document.querySelector("#file-input");
        $(input).on("change", function() {
            if (input.files.length > 0) {
                var file = input.files[0];
                // Insert a new paragraph element after input node.
                $(input.parentNode)
                        .after($(
                                "<p>You chose " + file.name + ". "
                                + "It has type " + file.type + ".</p>"));
            }
        });
      </script>
    </div>
  </div>


  </div>
{%  endblock content %}

